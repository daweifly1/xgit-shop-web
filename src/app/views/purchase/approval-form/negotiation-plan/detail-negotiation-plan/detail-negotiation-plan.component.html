<ng-container>
  <div class="detail-header-info">
    <nz-form-item>
      <nz-form-label nzSpan="8">预案编号</nz-form-label>
      <nz-form-control nzSpan="16">
        <span>{{negotiationDetail.planNo}}</span>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="8">审批表编号</nz-form-label>
      <nz-form-control nzSpan="16">
        <span>{{negotiationDetail.approvalNo}}</span>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="8">商务科室</nz-form-label>
      <nz-form-control nzSpan="16">
          <span>{{negotiationDetail.businessDepartment}}</span>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="8">谈判日期</nz-form-label>
      <nz-form-control nzSpan="16">
          <span>{{negotiationDetail.negotiationDate | date:'yyyy-MM-dd'}}</span>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="8">谈判地点</nz-form-label>
      <nz-form-control nzSpan="16">
          <span>{{negotiationDetail.negotiationAddress}}</span>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="8">谈判方式</nz-form-label>
      <nz-form-control nzSpan="16">
          <span>{{negotiationDetail.negotiationWay}}</span>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="8">谈判形式</nz-form-label>
      <nz-form-control nzSpan="16">
          <span>{{negotiationDetail.negotiationForm}}</span>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="8">谈判组长</nz-form-label>
      <nz-form-control nzSpan="16">
          <span>{{negotiationDetail.negotiationLeader}}</span>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="8">谈判成员</nz-form-label>
      <nz-form-control nzSpan="16">
          <span>{{negotiationDetail.negotiationMember}}</span>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="8">总金额(元)</nz-form-label>
      <nz-form-control nzSpan="16">
          <span>{{negotiationDetail.negotiationAmout}}</span>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="8">创建人</nz-form-label>
      <nz-form-control nzSpan="16">
          <span>{{negotiationDetail.createName}}</span>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="8">创建时间</nz-form-label>
      <nz-form-control nzSpan="16">
          <span>{{negotiationDetail.createDate | date: 'yyyy-MM-dd'}}</span>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="8">采购管理科审批人</nz-form-label>
      <nz-form-control nzSpan="16">
        <span>{{negotiationDetail.flowPurchaserName}}</span>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="8">状态</nz-form-label>
      <nz-form-control nzSpan="16">
        <span class="operate-text" (click)="showAuditProcess()">{{negotiationDetail.status | map:'negotiationState'}}</span>
      </nz-form-control>
    </nz-form-item>
  </div>
  <div class="detail">
  <nz-form-item>
    <nz-form-label nzSpan="4">预案主题</nz-form-label>
    <nz-form-control nzSpan="20">
        <span>{{negotiationDetail.planTopic}}</span>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label nzSpan="4">采购物资简介</nz-form-label>
    <nz-form-control nzSpan="20">
        <span>{{negotiationDetail.purchaseMaterialIntro}}</span>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label nzSpan="4">前期采购情况</nz-form-label>
    <nz-form-control nzSpan="20">
        <span>{{negotiationDetail.previousPurchases}}</span>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label nzSpan="4">市场情况</nz-form-label>
    <nz-form-control nzSpan="20">
        <span>{{negotiationDetail.marketState}}</span>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label nzSpan="4">谈判策略</nz-form-label>
    <nz-form-control nzSpan="20">
        <span>{{negotiationDetail.negotiationStrategy}}</span>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label nzSpan="4">备注</nz-form-label>
    <nz-form-control nzSpan="20">
        <span>{{negotiationDetail.remark}}</span>
    </nz-form-control>
  </nz-form-item>
</div>
</ng-container>
<div class="table-footer-bar">
  <ng-container *ngIf="showAuditFlowBtu">
    <button nz-button nzType="info" (click)="auditAgree()"  *appAuthBtu="ActionCode.negotiationPlanAudit">审批通过</button>
    <button nz-button nzType="info" (click)="auditReject()"  *appAuthBtu="ActionCode.negotiationPlanAudit">审批拒绝</button>
  </ng-container>
  <button nz-button nzType="info" (click)="onCancel()">返回</button>
</div>
<app-purchase-audit-process [processId]="negotiationDetail.processId" [(show)]="isShowAuditProcess"></app-purchase-audit-process>
<nz-modal nzTitle="审批意见" nzWidth="500px" [(nzVisible)]="auditModalShow" (nzOnCancel)="cancelAuditModal()" (nzOnOk)="confirmAuditModal()">
  <nz-form-item>
    <nz-form-label nzSpan="4" *ngIf="isAuditReject" nzRequired>审批意见</nz-form-label>
    <nz-form-label nzSpan="4" *ngIf="!isAuditReject">审批意见</nz-form-label>
    <nz-form-control nzSpan="20">
      <textarea nz-input placeholder="请输入审批意见" [(ngModel)]="auditSubmitData.comments"></textarea>
    </nz-form-control>
  </nz-form-item>
</nz-modal>
